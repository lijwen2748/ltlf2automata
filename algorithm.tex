\section{Approach Overview}
Given an $LTL_f$ formula $\phi$, there is a NFA $A_{\phi}$ which accepts exactly the same language as $\phi$. To construct the nondeterministic finite automaton (NFA) for an $ LTL_f$ formula $\phi$, we leverage SAT solvers to find all one-transition next states of the current state, then check the accepting states. 

\subsection{LTL to NFA}
Given an  $ LTL_f$ formula, We define the construction of transition system as follows. \\
  \begin{algorithm}[H]
    \SetAlgoNoLine
 \SetKwInOut{Input}{\textbf{Input}}\SetKwInOut{Output}{\textbf{Output}}
 \Input{ An $ LTL_f$ formula $\phi$\\}
    \Output{ transition system S\\}
    \BlankLine
 $to\_process:=\{\phi\}, S:=\{\phi\}$, \\
\textbf{set} existing to mark visited states.\\
\textbf{while} $to\_process$ is not empty \textbf{do} \\
\ cur =  $to\_process$.front;  \\
\quad  \textbf{while} true \textbf{do} \\
\qquad   \textbf{if} cur is not satisfiable  \textbf{then} \{ \\
\qquad \quad $to\_process$.pop; \\
\qquad \quad break;     \}\\
 \qquad  Let t=(label,next) a transition edge from current state(cur) \\
\qquad\textbf{if} t.next is not in existing \textbf{then} \{ \\
\qquad \quad $to\_process$.push(t.next); \\
\qquad \quad existing.push(t.next); \\
\qquad  \quad S.push(t.next)  \}\\
\qquad  add transition edge t to the current state(cur)
 \caption{Construction of Transition System}
\end{algorithm}

The algorithm constructs the transition system on-the-fly. The initial state is set to be $\{\phi\}$, which is the input formula. 
\subsection{Checking Accepting States}  
In this section, we present our algorithm for checking accepting states of $LTL_f$ formulas. The lemma  was proposed by (Jianwen Li ) at [].  \\


To check whether a state is an accepting state, we can  discuss it in following two steps: \\
1. If $s_1 $= tt, return true; \\
2. If there exists a transition  $ s_1 \overset{\alpha}{\rightarrow}s_1$ and  the properties on the edge satisfy the current state, then return true. \\

\IncMargin{1em}
 \begin{algorithm}[H]
    \SetAlgoNoLine
 \SetKwInOut{Input}{\textbf{Input}}\SetKwInOut{Output}{\textbf{Output}}
 \Input{ An $ LTL_f$ formula $\phi$\\}
    \Output{  accepting states Accept}
    \BlankLine
\textbf{for} i $\leftarrow$  0 to S.size  \\
\qquad cur = S[i].property;  \\
\qquad  \textbf{if} cur is 'true'   \textbf{then}\{      \\
\qquad \quad Accept.push\_back(i);     \\
\qquad \quad  continue;  \}     \\
\qquad  $ \textbf{for}$ j $\leftarrow$  0 to S[i].trans\_set.size \\
\qquad \quad state\_next = S[i].trans\_set[j].next;  \\
\qquad \quad \textbf{if} state\_next == i and S[i].trans\_set[j].label satisfies current state \textbf{then} \{  \\
\qquad \qquad Accept.push\_back(i);  \\
\qquad \qquad \textbf{break}; \} \\
 \caption{Checking accepting States}
\end{algorithm}
